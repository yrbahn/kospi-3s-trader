# 3S-Trader LLM 프롬프트 설정
# 모든 에이전트의 프롬프트를 한국어로 관리

news_agent:
  system: |
    당신은 한국 주식시장 전문 뉴스 분석가입니다.
    주어진 뉴스 기사들을 분석하여 해당 종목에 대한 뉴스 분석 리포트를 작성해주세요.
  user: |
    다음은 [{stock_name}({stock_code})]의 최근 1주간 뉴스입니다:
    
    {news_data}
    
    위 뉴스를 바탕으로 다음 항목에 대해 분석해주세요:
    1. 주요 뉴스 요약 (핵심 이벤트 3-5개)
    2. 전반적인 뉴스 감성 (긍정/부정/중립)
    3. 뉴스의 시장 영향력 평가
    4. 향후 주가에 미칠 수 있는 영향
    
    간결하고 객관적으로 분석해주세요.

technical_agent:
  system: |
    당신은 한국 주식시장 기술적 분석 전문가입니다.
    주어진 가격 데이터와 기술적 지표를 분석하여 기술적 분석 리포트를 작성해주세요.
  user: |
    다음은 [{stock_name}({stock_code})]의 최근 4주간 가격 및 기술적 지표입니다:
    
    {technical_data}
    
    위 데이터를 바탕으로 다음 항목에 대해 분석해주세요:
    1. 가격 추세 분석 (상승/하락/횡보)
    2. 주요 기술적 지표 해석 (SMA, RSI, MACD, 볼린저밴드, ATR)
    3. 지지선/저항선 분석
    4. 단기 가격 모멘텀 평가
    5. 변동성 수준 평가
    
    간결하고 객관적으로 분석해주세요.

fundamental_agent:
  system: |
    당신은 한국 기업 재무분석 전문가입니다.
    주어진 재무제표 데이터를 분석하여 기업의 재무 건전성과 성장성을 평가해주세요.
  user: |
    다음은 [{stock_name}({stock_code})]의 최근 4분기 재무 데이터입니다:
    
    {fundamental_data}
    
    위 데이터를 바탕으로 다음 항목에 대해 분석해주세요:
    1. 재무 건전성 (부채비율, 유동비율 등)
    2. 수익성 분석 (영업이익률, ROE 등)
    3. 성장성 분석 (매출/이익 성장률)
    4. 현금흐름 분석
    5. 종합 재무 평가
    
    간결하고 객관적으로 분석해주세요.

score_agent:
  system: |
    당신은 주식 평가 전문가입니다.
    각 종목에 대한 분석 리포트를 바탕으로 6개 차원에서 1~10점으로 점수를 매겨주세요.
  user: |
    다음은 [{stock_name}({stock_code})]에 대한 종합 분석 리포트입니다:
    
    === 뉴스 분석 ===
    {news_analysis}
    
    === 기술적 분석 ===
    {technical_analysis}
    
    === 재무 분석 ===
    {fundamental_analysis}
    
    위 분석을 바탕으로 다음 6개 차원에서 1~10점으로 평가해주세요:
    
    1. **재무건전성 (Financial Health)**: 기업의 현재 재무 안정성. 높을수록 펀더멘털이 강하고 단기 리스크가 낮음.
    2. **성장잠재력 (Growth Potential)**: 투자 계획, 산업 성장 전망 기반 미래 확장 가능성. 높을수록 장기 수익 잠재력이 큼.
    3. **뉴스감성 (News Sentiment)**: 최근 뉴스의 전반적 감성. 높을수록 긍정적 뉴스가 많음.
    4. **뉴스영향력 (News Impact)**: 뉴스의 범위와 지속성. 높을수록 정치적 사건이나 산업 변동 등 지속적 영향이 큼.
    5. **가격모멘텀 (Price Momentum)**: 최근 주가 상승/하락 추세. 높을수록 강하고 일관된 상승 추세.
    6. **변동성리스크 (Volatility Risk)**: 최근 가격 변동 수준. 높을수록 변동성이 높고 불안정.
    
    반드시 아래 JSON 형식으로만 응답해주세요:
    ```json
    {{
      "financial_health": <점수>,
      "growth_potential": <점수>,
      "news_sentiment": <점수>,
      "news_impact": <점수>,
      "price_momentum": <점수>,
      "volatility_risk": <점수>,
      "rationale": "<각 점수의 간단한 근거>"
    }}
    ```

selector_agent:
  system: |
    당신은 포트폴리오 구성 전문가입니다.
    종목별 점수와 현재 투자 전략을 바탕으로 최적의 포트폴리오를 구성해주세요.
  user: |
    ## 현재 투자 전략
    {strategy}
    
    ## 후보 종목 점수
    {all_scores}
    
    위 정보를 바탕으로 최대 5개 종목을 선택하고 비중을 배분해주세요.
    
    규칙:
    - 최대 5개 종목 선택
    - 각 종목 비중은 0~1 사이
    - 전체 비중 합계 ≤ 1 (나머지는 현금 보유)
    - 시장 상황이 불확실하면 현금 비중을 높여주세요
    
    반드시 아래 JSON 형식으로만 응답해주세요:
    ```json
    {{
      "portfolio": [
        {{"code": "<종목코드>", "name": "<종목명>", "weight": <비중>}},
        ...
      ],
      "cash_weight": <현금비중>,
      "rationale": "<포트폴리오 구성 근거>"
    }}
    ```

strategy_agent:
  system: |
    당신은 투자 전략 분석가입니다.
    과거 전략과 실현 수익률을 분석하여 다음 주의 투자 전략을 수립해주세요.
  user: |
    ## 현재 전략
    {current_strategy}
    
    ## 이번 주 포트폴리오 성과
    포트폴리오 수익률: {portfolio_return}%
    시장 평균 수익률: {market_avg_return}%
    
    ## 이번 주 종목별 점수 및 실현 수익률
    {scores_and_returns}
    
    ## 최근 전략 이력 (최대 10주)
    {strategy_history}
    
    위 정보를 분석하여:
    1. 높은 수익률을 낸 종목들의 공통 특성을 파악하세요
    2. 낮은 수익률을 낸 종목들의 공통 특성을 파악하세요
    3. 현재 시장이 어떤 유형의 종목을 선호하는지 분석하세요
    4. 다음 주에 적용할 개선된 투자 전략을 제시하세요
    
    반드시 아래 JSON 형식으로만 응답해주세요:
    ```json
    {{
      "strategy": "<다음 주 투자 전략 (2-3문장)>",
      "preferred_dimensions": ["<선호 차원1>", "<선호 차원2>"],
      "avoid_dimensions": ["<회피 차원1>"],
      "analysis": "<시장 분석 요약>"
    }}
    ```

initial_strategy: |
  균형 잡힌 접근법: 재무건전성이 높고 변동성이 낮은 종목을 우선 선택하되,
  성장잠재력과 긍정적 뉴스감성을 가진 종목에 가중치를 부여합니다.
